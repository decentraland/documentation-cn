---
date: 2018-01-01
title: 部署到 Now
description: 上传场景到 ZEIT Now 以供链下分享。
categories:
  - deploy
type: Document
set: deploy
set_order: 7
---

Decentraland 场景预览与 [Now](https://zeit.co/now) 兼容，[Now](https://zeit.co/now)提供了非常方便的服务，可以让您将内容上传到服务器并随意免费运行。可以轻松地将 Decentraland 场景预览上传到服务器上。

这是将您的内容与他人分享和互动预览的绝佳方式！对在其他平台（如移动设备）中测试场景也很有用。

一旦上传到 Now，其他人查看你的场景只需要打开一个链接，并不需要安装 CLI，Node，NPM 或在本地计算机上运行预览所需的任何其他工具。

下面一些当前正在运行的场景：

- [Block Dog](https://blockdog-wtciaozdbo.now.sh)
- [Humming birds](https://hummingbirds-ujovmbtmui.now.sh)

请注意，不需要拥有 LAND 就可以将场景预览上传到 Now。上传的内容不会以任何方式链接到区块链。运行预览时，其他相邻地块显示为空。

## 准备你的场景

要在 Now 中运行场景，请确保使用的是最新版本的 SDK。如果您不确定，请查看**发行说明**部分。

切记，SDK 版本是在场景中指定的，在您首次使用 CLI 创建时确定。因此，如果您使用较旧版本的 CLI 创建了场景，然后更新了 CLI，则需要手动更新场景，让它使用最新版本的 SDK。

## 部署到 Now


要将场景部署到 Now：

1. 在场景目录运行以下命令：

   ```
   npm run deploy:now
   ```

   控制台会显示服务器正在安装运行场景所必要的依赖项，因此需要几分钟。

2. 完成后，服务器的 URL 会自动添加到剪贴板中，然后粘贴到浏览器中！

   也可以在控制台的输出中获得链接，类似于 `https://myscene-gnezxvoayw.now.sh`。

3. 可以把这个链接分享给任何人！ _Now_ 会继续在该链接上托管您的场景。

切记，Now 的免费版本限制文件最大为 50 MB。

如果场景超出此限制，请尝试删除 node_modules 文件夹以及场景文件夹中不需要上载的任何其他文件，或者服务器可以根据 `package.json` 中的说明自动安装的文件。

## 多人游戏考虑因素

请注意，部署到 _Now_ 的场景只能进行单人游戏体验，即便您能够看到其他用户在四处走动。

用户位置是共享的，但每个用户在浏览器中看到的是本地运行场景，不是同步场景。如果可以通过用户的交互来改变场景，则每个用户将看到处于不同状态的场景。

为了使用户之间能看到同步的场景状态，当前需要使用远程服务器来设置各个用户之间的同步状态。

## 上传多人游戏场景

如果您基于远程场景示例创建场景，则需要用 Now 进行两次单独部署，一次针对服务器，另一次针对场景客户端。

1. 更改目录为 `/server` 文件夹并运行以下命令以部署服务器：
   
   ```
   npm run deploy:now
   ```
2. 从已部署的项目中复制 URL。

3. 在`/scene`文件夹中，修改代码，使其指向您部署到 Now 的服务器的链接（就是刚刚复制的 URL）。

   如果场景使用 websocket 连接，则必须手动修改 URL 地址，使用 _wss_ 而不是 _https_ 开头。

   例如，如果服务器的地址是 `https://dcl-project-fsutefbepd.now.sh/`，则应将其修改为 `wss://dcl-project-fsutefbepd.now.sh/`。

4. 部署完整的场景文件，运行

   ```
   npm run deploy:now
   ```

5. 上传完成后，剪贴板中将会有场景预览 URL，可用于分享。
